require.fix=function(c,b){switch(c){case"controller/BaseController":a(b);break;}function a(d){var f=require("common/Utils");d.prototype.go=function e(p,m,k){var g=this.Class;var h=p=="back";var n=p=="login";var j=p=="index";var q=p=="detail";var s="";var r=/#\w*$/;var i=p.match(r);var o="";if(i){p=p.replace(r,"");o=i[0];}if(window.YyJSBridge){var l=G.appSource;if(l){var i=l.split("_")[0];if(i&&i.indexOf("duobao")>=0){YyJSBridge.__protocol=i+"://";}}m=m||{};m.module=p;if(n){YyJSBridge.invoke("login",{callback:function(){YyJSBridge.invoke("refresh");}});}else{if(h){YyJSBridge.invoke("back");}else{YyJSBridge.invoke("go",m);}}return;}else{if(g.isNews){if(n){window.location.href=g.NEWS_LOGIN_URL;return;}}}k=k==undefined?h:k;this.finish(function(){if(h){window.history.go(-1);}else{if(q){p=f.getGoodsUrl(m.gid,m.period);delete m.gid;delete m.period;}else{var t=g._uris[p];if(t){var x=/\/$/.test(p);var v=window.location.port=="8082";p=t;if(!x){p=p+(v?".jsp":".do");}}if(/^\//.test(p)&&window.G&&G.host){p=G.host+p;}}if(m){var u=[];for(var w in m){u.push(w+"="+m[w]);}if(u.length){s+=p.indexOf("?")>=0?"&":"?";}s+=u.join("&");}if(/^http(s)?:\/\/(\w*\.)*((163\.com)|(126\.com)|(yeah\.net)|(188\.com)|(youdao\.com)|(netease\.com)|(lofter\.com))(:\d*)?(\/.*)?$/.test(p)){window.location.href=p+s+o;}else{window.history.go(-1);}}},k);};}};